# 연산자와 표현식

## 복합 대입 연산자 (+=, -=, *=, /=, %=)

복합 대입 연산자는 산술 연산과 대입을 한 번에 수행하는 연산자임. 이들은 코드를 더 간결하게 만들고, 때로는 더 효율적인 연산을 가능하게 함.

### 기본 사용법

1. 덧셈 후 대입 (+=)

   ```c
   int a = 5;
   a += 3;  // a = a + 3와 동일, a는 8이 됨
   ```

2. 뺄셈 후 대입 (-=)

   ```c
   int b = 10;
   b -= 4;  // b = b - 4와 동일, b는 6이 됨
   ```

3. 곱셈 후 대입 (*=)

   ```c
   int c = 3;
   c *= 5;  // c = c * 5와 동일, c는 15가 됨
   ```

4. 나눗셈 후 대입 (/=)

   ```c
   int d = 20;
   d /= 4;  // d = d / 4와 동일, d는 5가 됨
   ```

5. 나머지 연산 후 대입 (%=)

   ```c
   int e = 17;
   e %= 5;  // e = e % 5와 동일, e는 2가 됨
   ```

### 복합 대입 연산자의 특징

1. 간결성
   - `a = a + b;` 대신 `a += b;`를 사용하여 코드를 더 간결하게 만듦

2. 효율성
   - 일부 경우에 복합 대입 연산자가 더 효율적인 기계어 코드를 생성할 수 있음

3. 부작용 한 번만 발생

   ```c
   arr[i++] += 5;  // arr[i]에 5를 더한 후 i가 증가
   ```

### 다양한 데이터 타입과의 사용

1. 부동소수점 연산

   ```c
   float f = 3.5f;
   f *= 2.0f;  // f는 7.0f가 됨
   ```

2. 포인터 연산

   ```c
   int *ptr = arr;
   ptr += 3;  // ptr이 3개의 int 크기만큼 증가
   ```

### 비트 연산과 복합 대입

1. 비트 AND 후 대입 (&=)

   ```c
   unsigned int flags = 0xFF;
   flags &= 0xF0;  // flags는 0xF0이 됨
   ```

2. 비트 OR 후 대입 (|=)

   ```c
   unsigned int mask = 0x0F;
   mask |= 0x30;  // mask는 0x3F가 됨
   ```

3. 비트 XOR 후 대입 (^=)

   ```c
   unsigned int value = 0xAA;
   value ^= 0x55;  // value는 0xFF가 됨
   ```

4. 왼쪽 시프트 후 대입 (<<=)

   ```c
   int num = 1;
   num <<= 3;  // num은 8이 됨 (1을 왼쪽으로 3비트 시프트)
   ```

5. 오른쪽 시프트 후 대입 (>>=)

   ```c
   int num = 16;
   num >>= 2;  // num은 4가 됨 (16을 오른쪽으로 2비트 시프트)
   ```

### 실용적 응용 사례

1. 누적 합 계산

   ```c
   int sum = 0;
   for (int i = 1; i <= 100; i++) {
       sum += i;
   }
   ```

2. 평균 계산

   ```c
   float average = 0;
   for (int i = 0; i < count; i++) {
       average += arr[i];
   }
   average /= count;
   ```

3. 비트 플래그 조작

   ```c
   unsigned int flags = 0;
   flags |= (1 << 3);  // 3번 비트 설정
   flags &= ~(1 << 2);  // 2번 비트 해제
   ```

4. 문자열 연결

   ```c
   char str[100] = "Hello";
   strcat(str, " World");  // str += " World"와 유사한 효과
   ```

5. 행렬 연산

   ```c
   for (int i = 0; i < rows; i++) {
       for (int j = 0; j < cols; j++) {
           result[i][j] += matrix1[i][j] * matrix2[j][i];
       }
   }
   ```

복합 대입 연산자는 코드를 더 간결하고 가독성 있게 만들 수 있지만, 과도한 사용은 오히려 코드의 명확성을 해칠 수 있음. 특히 복잡한 표현식에서는 주의해서 사용해야 함. 또한 연산자 우선순위에 주의해야 하며, 필요한 경우 괄호를 사용하여 의도를 명확히 해야 함.
