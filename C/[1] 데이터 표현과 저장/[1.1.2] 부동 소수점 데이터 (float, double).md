# 데이터 표현과 저장

## 부동 소수점 데이터 (float, double)

부동 소수점 데이터 타입은 실수 값을 표현하는 데 사용됨. 정수형 데이터와 달리, 소수점 이하의 값을 저장할 수 있으며, 과학적 표기법을 지원함.

### float

float은 단정도(single precision) 부동 소수점 타입으로, 4바이트 크기를 가짐.

- 범위: 약 ±3.4 × 10^-38 ~ ±3.4 × 10^38 (IEEE 754 표준 기준)
- 정밀도: 약 7자리의 십진 자릿수

```c
#include <stdio.h>

int main() {
    float temperature = 36.5f;
    float speed = 299792458.0f; // 빛의 속도 (m/s)

    printf("체온: %.1f°C\n", temperature);
    printf("빛의 속도: %.2e m/s\n", speed);

    return 0;
}
```

### double

double은 배정도(double precision) 부동 소수점 타입으로, 8바이트 크기를 가짐.

- 범위: 약 ±1.7 × 10^-308 ~ ±1.7 × 10^308 (IEEE 754 표준 기준)
- 정밀도: 약 15-17자리의 십진 자릿수

```c
#include <stdio.h>
#include <math.h>

int main() {
    double pi = 3.141592653589793;
    double avogadro = 6.02214076e23; // 아보가드로 수

    printf("원주율 (15자리): %.15f\n", pi);
    printf("아보가드로 수: %.8e\n", avogadro);

    return 0;
}
```

### long double

long double은 확장 정밀도 부동 소수점 타입으로, 시스템에 따라 크기와 정밀도가 다를 수 있음.

- x86-64 시스템에서는 보통 80비트 또는 128비트 크기를 가짐
- 매우 높은 정밀도를 요구하는 과학 계산이나 금융 계산에 사용됨

```c
#include <stdio.h>

int main() {
    long double euler = 2.718281828459045235360287471352662L;

    printf("오일러의 수 (30자리): %.30Lf\n", euler);

    return 0;
}
```

### 부동 소수점 데이터 타입 선택 시 고려사항

- 필요한 정밀도와 데이터의 범위를 고려해야 함
- 메모리 사용량과 연산 속도의 균형을 맞춰야 함
- 일반적인 계산에는 float, 높은 정밀도가 필요한 경우 double을 사용함
- long double은 특수한 경우에만 사용하며, 이식성에 주의해야 함

### 부동 소수점 연산의 주의사항

부동 소수점 연산은 이진 표현의 한계로 인해 정밀도 손실이 발생할 수 있음.

```c
#include <stdio.h>
#include <math.h>

int main() {
    float a = 0.1f;
    float b = 0.2f;
    float sum = a + b;

    if (fabs(sum - 0.3f) < 1e-6f) {
        printf("0.1 + 0.2는 0.3과 거의 같음\n");
    } else {
        printf("0.1 + 0.2 = %.20f\n", sum);
    }

    return 0;
}
```

이 코드를 실행하면 0.1 + 0.2가 정확히 0.3이 아님을 알 수 있음. 따라서 부동 소수점 비교 시에는 항상 오차 범위를 고려해야 함.

### 부동 소수점 특수 값

IEEE 754 표준은 특수한 부동 소수점 값들을 정의함:

- Infinity (무한대): 오버플로우 등의 결과로 발생
- NaN (Not a Number): 정의되지 않은 연산의 결과

```c
#include <stdio.h>
#include <math.h>

int main() {
    double inf = 1.0 / 0.0;
    double nan = sqrt(-1.0);

    printf("Infinity: %f\n", inf);
    printf("NaN: %f\n", nan);

    return 0;
}
```

이러한 특수 값들을 적절히 처리하는 것이 안정적인 프로그램 작성에 중요함.
