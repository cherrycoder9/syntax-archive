# 데이터 표현과 저장

## 변수의 스코프와 수명주기

### 전역 변수와 지역 변수

변수의 스코프와 수명주기는 프로그램에서 변수를 어떻게 사용할 수 있는지 결정하는 중요한 개념임. C 언어에서는 전역 변수와 지역 변수를 통해 이를 구현함.

#### 전역 변수

전역 변수는 함수 외부에 선언되어 프로그램 전체에서 접근 가능한 변수를 말함. 특징은 다음과 같음:

- 프로그램 시작 시 생성되고 종료 시 소멸됨
- 모든 함수에서 접근 가능
- 초기화하지 않으면 자동으로 0으로 초기화됨

전역 변수 사용 예시:

```c
#include <stdio.h>

int globalCounter = 0;  // 전역 변수 선언

void incrementCounter() {
    globalCounter++;  // 전역 변수 접근 및 수정
}

int main() {
    printf("초기 카운터 값: %d\n", globalCounter);
    incrementCounter();
    printf("증가 후 카운터 값: %d\n", globalCounter);
    return 0;
}
```

전역 변수는 프로그램 전체에서 상태를 공유해야 할 때 유용하지만, 과도한 사용은 코드의 복잡성을 높이고 예기치 않은 부작용을 일으킬 수 있음.

#### 지역 변수

지역 변수는 함수나 블록 내부에서 선언되어 해당 범위 내에서만 사용 가능한 변수를 말함. 특징은 다음과 같음:

- 선언된 블록이나 함수가 실행될 때 생성되고 종료될 때 소멸됨
- 선언된 범위 내에서만 접근 가능
- 초기화하지 않으면 쓰레기 값을 가짐

지역 변수 사용 예시:

```c
#include <stdio.h>

void calculateSum(int a, int b) {
    int result = a + b;  // 지역 변수 선언 및 초기화
    printf("%d + %d = %d\n", a, b, result);
}

int main() {
    int x = 5, y = 3;  // main 함수의 지역 변수
    calculateSum(x, y);
    // printf("결과: %d\n", result);  // 오류: result는 calculateSum 함수의 지역 변수
    return 0;
}
```

지역 변수는 함수나 블록의 독립성을 높이고, 변수의 생명주기를 제한하여 메모리 사용을 최적화함.

#### 전역 변수와 지역 변수의 활용

두 변수 타입의 특성을 고려한 적절한 사용은 코드의 구조와 성능에 영향을 줌:

```c
#include <stdio.h>

int globalValue = 100;  // 전역 변수

void modifyValues(int localValue) {
    printf("지역 변수: %d, 전역 변수: %d\n", localValue, globalValue);
    localValue += 10;
    globalValue += 10;
    printf("수정 후 - 지역 변수: %d, 전역 변수: %d\n", localValue, globalValue);
}

int main() {
    int localValue = 50;  // main의 지역 변수
    printf("초기 - main의 지역 변수: %d, 전역 변수: %d\n", localValue, globalValue);
    modifyValues(localValue);
    printf("함수 호출 후 - main의 지역 변수: %d, 전역 변수: %d\n", localValue, globalValue);
    return 0;
}
```

이 예제는 전역 변수와 지역 변수의 동작 차이를 보여줌. 전역 변수는 함수 호출 후에도 변경된 값이 유지되지만, 지역 변수는 함수 내에서만 변경됨.

변수의 스코프와 수명주기를 적절히 활용하면 코드의 가독성, 유지보수성, 그리고 성능을 개선할 수 있음. 전역 변수는 신중히 사용하고, 가능한 지역 변수를 통해 데이터의 범위를 제한하는 것이 좋은 프로그래밍 관행임.
