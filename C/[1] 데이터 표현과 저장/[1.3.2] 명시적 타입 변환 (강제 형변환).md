# 데이터 표현과 저장

## 데이터 타입 변환

### 명시적 타입 변환 (강제 형변환)

명시적 타입 변환은 프로그래머가 의도적으로 데이터 타입을 변환하는 것임. 이는 캐스팅 연산자를 사용하여 수행되며, 코드의 의도를 명확히 하고 특정 연산에서 원하는 결과를 얻기 위해 사용됨.

#### 기본 문법

명시적 타입 변환의 기본 문법은 다음과 같음:

```c
(변환할_타입)변수_또는_표현식
```

#### 주요 사용 사례

- 정수형에서 실수형으로 변환:

```c
#include <stdio.h>

int main() {
    int num = 5;
    int denom = 2;
    
    float result = (float)num / denom;
    printf("5/2의 결과: %.2f\n", result);
    
    return 0;
}
```

이 예제에서 `num`을 `float`로 변환하여 정수 나눗셈이 아닌 실수 나눗셈이 수행되도록 함.

- 실수형에서 정수형으로 변환 (소수점 이하 절삭):

```c
#include <stdio.h>

int main() {
    float pi = 3.14159f;
    int intPi = (int)pi;
    
    printf("Pi: %f\n", pi);
    printf("정수형 Pi: %d\n", intPi);
    
    return 0;
}
```

이 예제는 `float` 값을 `int`로 변환하여 소수점 이하를 절삭함.

- 포인터 타입 변환:

```c
#include <stdio.h>

int main() {
    int num = 42;
    void *ptr = &num;
    int *intPtr = (int *)ptr;
    
    printf("값: %d\n", *intPtr);
    
    return 0;
}
```

이 예제는 `void*` 포인터를 `int*`로 변환하여 특정 타입의 데이터에 접근함.

#### 주의사항

- 데이터 손실:
   큰 범위의 타입에서 작은 범위의 타입으로 변환 시 데이터 손실이 발생할 수 있음.

```c
#include <stdio.h>

int main() {
    long long bigNum = 1234567890123LL;
    int smallNum = (int)bigNum;
    
    printf("원래 값: %lld\n", bigNum);
    printf("변환된 값: %d\n", smallNum);
    
    return 0;
}
```

- 부호 있는 정수와 부호 없는 정수 간의 변환:

```c
#include <stdio.h>

int main() {
    unsigned int positiveNum = 4294967295U;  // 2^32 - 1
    int signedNum = (int)positiveNum;
    
    printf("부호 없는 정수: %u\n", positiveNum);
    printf("부호 있는 정수로 변환: %d\n", signedNum);
    
    return 0;
}
```

- 포인터와 정수 간의 변환:

```c
#include <stdio.h>
#include <stdint.h>

int main() {
    int num = 42;
    intptr_t ptrValue = (intptr_t)&num;
    
    printf("포인터 값: %p\n", (void*)&num);
    printf("정수로 변환된 포인터 값: %lx\n", ptrValue);
    
    return 0;
}
```

#### 실제 응용 사례

- 정밀한 나눗셈 계산:

```c
#include <stdio.h>

int main() {
    int totalStudents = 27;
    int groups = 4;
    
    float studentsPerGroup = (float)totalStudents / groups;
    printf("그룹당 학생 수: %.2f\n", studentsPerGroup);
    
    return 0;
}
```

- 비트 연산을 위한 타입 변환:

```c
#include <stdio.h>

int main() {
    float f = 3.14f;
    int i = *(int*)&f;  // float의 비트 패턴을 int로 해석
    
    printf("Float 값: %f\n", f);
    printf("비트 패턴 (16진수): 0x%X\n", i);
    
    return 0;
}
```

- 시간 계산:

```c
#include <stdio.h>

int main() {
    int totalSeconds = 3661;
    
    int hours = totalSeconds / 3600;
    int minutes = (totalSeconds % 3600) / 60;
    int seconds = totalSeconds % 60;
    
    printf("%d초는 %d시간 %d분 %d초입니다.\n", totalSeconds, hours, minutes, seconds);
    
    return 0;
}
```

명시적 타입 변환은 강력한 도구지만, 신중하게 사용해야 함. 데이터 손실이나 예기치 않은 결과를 방지하기 위해 변환 전후의 값을 항상 확인하는 것이 좋음.
