# 데이터 표현과 저장

## 데이터 타입 변환

### 묵시적 타입 변환 (자동 형변환)

묵시적 타입 변환은 컴파일러가 자동으로 수행하는 데이터 타입 변환임. 이는 주로 연산 과정에서 발생하며, 데이터 손실을 최소화하는 방향으로 이루어짐.

#### 기본 규칙

1. 작은 크기의 타입에서 큰 크기의 타입으로 변환됨.
2. 정수형에서 부동 소수점형으로 변환됨.
3. 연산 시 피연산자들 중 가장 큰 타입으로 변환됨.

#### 변환 우선순위

char → short int → int → long → float → double → long double

```c
#include <stdio.h>

int main() {
    char c = 'A';
    int i = 10;
    float f = 3.14f;
    double d = 2.718;

    // char와 int의 연산
    int result1 = c + i;
    printf("char + int = %d\n", result1);

    // int와 float의 연산
    float result2 = i + f;
    printf("int + float = %f\n", result2);

    // float와 double의 연산
    double result3 = f + d;
    printf("float + double = %lf\n", result3);

    return 0;
}
```

#### 주의사항

1. 큰 타입에서 작은 타입으로의 암묵적 변환 시 데이터 손실이 발생할 수 있음.

    ```c
    #include <stdio.h>

    int main() {
        int large = 1000000;
        short small;

        small = large;  // 묵시적 변환, 데이터 손실 발생
        printf("large: %d, small: %d\n", large, small);

        return 0;
    }
    ```

2. 부동 소수점에서 정수로의 변환 시 소수점 이하가 잘림.

    ```c
    #include <stdio.h>

    int main() {
        float f = 3.99f;
        int i = f;  // 묵시적 변환, 소수점 이하 잘림

        printf("float: %f, int: %d\n", f, i);

        return 0;
    }
    ```

3. 부호 있는 정수형과 부호 없는 정수형 간의 변환에 주의해야 함.

    ```c
    #include <stdio.h>

    int main() {
        unsigned int u = 4294967295;  // 2^32 - 1
        int i = u;  // 묵시적 변환, 부호 비트 해석 변경

        printf("unsigned: %u, signed: %d\n", u, i);

        return 0;
    }
    ```

### 실제 응용 사례

1. 정밀도가 다른 연산:

    ```c
    #include <stdio.h>

    int main() {
        int count = 5;
        float average = 4.5f;

        float result = count * average;
        printf("총점: %.2f\n", result);

        return 0;
    }
    ```

2. 다양한 타입의 복합 연산:

    ```c
    #include <stdio.h>

    int main() {
        char grade = 'A';
        int score = 95;
        float bonus = 0.5f;

        float final_score = score + bonus + (grade - 'A');
        printf("최종 점수: %.2f\n", final_score);

        return 0;
    }
    ```

3. 큰 숫자와 작은 숫자의 연산:

    ```c
    #include <stdio.h>

    int main() {
        long long big_num = 1000000000LL;  // 10억
        int small_num = 5;

        double result = (double)big_num / small_num;
        printf("결과: %.2f\n", result);

        return 0;
    }
    ```

묵시적 타입 변환은 편리하지만, 의도치 않은 결과를 초래할 수 있음. 따라서 복잡한 연산이나 중요한 계산에서는 명시적 타입 변환을 사용하거나 중간 결과를 확인하는 것이 좋음.
