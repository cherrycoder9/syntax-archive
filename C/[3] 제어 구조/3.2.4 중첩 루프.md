# 반복문

## 중첩 루프

### 중첩 루프의 개념

C언어에서 중첩 루프는 하나의 루프 내부에 다른 루프를 포함하는 구조임. 이를 통해 다차원 데이터 구조를 처리하거나 복잡한 패턴을 생성하는 등 다양한 작업을 수행할 수 있음

### 기본 구조

```c
for (초기화1; 조건1; 증감1) {
    // 외부 루프 코드
    for (초기화2; 조건2; 증감2) {
        // 내부 루프 코드
    }
}
```

이 구조에서 외부 루프가 한 번 실행될 때마다 내부 루프가 완전히 실행됨

### 실제 활용 예시

1. 2차원 배열 처리:

    ```c
    int matrix[3][3] = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};

    for (int i = 0; i < 3; i++) {
        for (int j = 0; j < 3; j++) {
            printf("%d ", matrix[i][j]);  // 2차원 배열의 각 요소 출력
        }
        printf("\n");  // 행 변경 시 줄바꿈
    }
    ```

2. 별 패턴 출력:

    ```c
    int n = 5;

    for (int i = 1; i <= n; i++) {
        for (int j = 1; j <= i; j++) {
            printf("*");  // i번째 줄에 i개의 별 출력
        }
        printf("\n");
    }
    ```

### 성능 고려사항

1. 캐시 지역성: 내부 루프에서 메모리 접근 패턴을 최적화해 캐시 히트율 향상 가능

2. 루프 언롤링: 컴파일러 최적화나 수동으로 내부 루프를 펼쳐 오버헤드 감소 가능

3. 병렬화: OpenMP 등을 사용해 중첩 루프를 병렬로 실행, 성능 개선 가능

### 주의사항

1. 무한 루프: 종료 조건 설정 실수로 무한 루프에 빠지지 않도록 주의

2. 복잡성 관리: 과도한 중첩은 코드 가독성과 유지보수성 저하. 3중 이상의 중첩은 함수로 분리 고려

3. 인덱스 변수: 외부/내부 루프의 인덱스 변수 혼동 주의. 명확한 이름 사용 권장

### 고급 기법

1. 다중 조건부 중첩 루프:

    ```c
    for (int i = 0; i < n; i++) {
        if (조건) {
            for (int j = 0; j < m; j++) {
                // 내부 루프 코드
            }
        }
        // 외부 루프 코드
    }
    ```

2. 동적 중첩 수준:

    ```c
    void nested_loop(int depth, int max_depth) {
        if (depth > max_depth) return;
        
        for (int i = 0; i < 10; i++) {
            // 현재 깊이에서의 작업
            nested_loop(depth + 1, max_depth);  // 재귀적으로 다음 깊이 호출
        }
    }
    ```

중첩 루프는 복잡한 알고리즘이나 다차원 데이터 처리에 필수적인 도구임. 적절히 활용하면 강력한 기능을 구현할 수 있지만, 성능과 가독성 간의 균형을 잘 맞춰야 함
