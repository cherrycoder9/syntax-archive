# 테이블 설계와 생성

## AUTO_INCREMENT를 이용한 자동 증가 필드 생성

AUTO_INCREMENT는 새로운 데이터를 넣을 때마다 자동으로 1씩 늘어나는 고유한 정수 값을 만드는 데 씀. 주로 PRIMARY KEY로 쓰는 열에 사용함.

### AUTO_INCREMENT 설정하기

AUTO_INCREMENT는 정수 타입의 열에만 설정할 수 있음. 테이블 만들 때 해당 열에 AUTO_INCREMENT를 넣으면 됨.

AUTO_INCREMENT를 사용하는 테이블 만드는 SQL 문은 다음과 같음.

```sql
CREATE TABLE customers (
    customer_id INT AUTO_INCREMENT PRIMARY KEY,
    customer_name VARCHAR(100) NOT NULL,
    email VARCHAR(100)
);
```

### AUTO_INCREMENT 시작 값 바꾸기

보통 AUTO_INCREMENT는 1부터 시작하지만, 다른 숫자부터 시작하게 할 수도 있음. `ALTER TABLE` 문을 써서 시작 값을 바꿀 수 있음.

AUTO_INCREMENT 시작 값을 바꾸는 SQL 문은 다음과 같음.

```sql
ALTER TABLE customers AUTO_INCREMENT = 1000;
```

### AUTO_INCREMENT 쓸 때 주의할 점

- 한 테이블에서 AUTO_INCREMENT는 한 열에만 설정할 수 있음
- AUTO_INCREMENT 열은 PRIMARY KEY나 UNIQUE 제약 조건과 같이 써야 함
- AUTO_INCREMENT 값을 직접 넣을 수도 있지만, 이럴 땐 중복되지 않게 조심해야 함

AUTO_INCREMENT 값을 직접 넣는 SQL 문은 다음과 같음.

```sql
INSERT INTO customers (customer_id, customer_name, email) VALUES (1001, 'John Doe', 'john@example.com');
```

이렇게 하면 그 다음에 들어가는 데이터의 `customer_id`는 1002가 됨.

### AUTO_INCREMENT의 최댓값

AUTO_INCREMENT로 만들 수 있는 가장 큰 값은 그 열의 데이터 타입에 따라 달라짐. 예를 들어, INT 타입이면 최댓값은 2,147,483,647임. 이 값에 도달하면 더 이상 늘어나지 않으니 주의해야 함.

AUTO_INCREMENT를 사용해서 주문 정보를 저장하는 테이블 만드는 SQL 문은 다음과 같음.

```sql
CREATE TABLE orders (
    order_id INT AUTO_INCREMENT PRIMARY KEY,
    order_date DATE NOT NULL,
    customer_id INT,
    amount DECIMAL(10, 2) NOT NULL,
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);
```

이 예제에서는 `order_id`가 자동으로 늘어나게 설정됐고, 각 주문의 날짜, 고객 ID, 금액을 저장할 수 있음.

AUTO_INCREMENT 설정을 확인하려면 다음 SQL 문을 사용해 볼 것.

```sql
SHOW CREATE TABLE orders;
```

이 명령어로 `orders` 테이블의 전체 구조를 볼 수 있고, AUTO_INCREMENT 설정도 확인할 수 있음.
