# 테이블 구조 변경 및 관리

## ALTER TABLE을 이용한 테이블 구조 수정

테이블 구조를 바꾸고 싶을 때는 `ALTER TABLE` 문을 씀. 이걸로 테이블에 열을 추가하거나, 수정하거나, 삭제할 수 있음.

### 열 추가하기

테이블에 새 열을 추가하는 SQL 문은 다음과 같음.

```sql
ALTER TABLE employees
ADD COLUMN phone_number VARCHAR(15);
```

### 열 수정하기

이미 있는 열의 데이터 타입이나 제약 조건을 바꾸려면 `MODIFY`나 `CHANGE` 키워드를 씀.

```sql
ALTER TABLE employees
MODIFY COLUMN phone_number VARCHAR(20) NOT NULL;
```

### 열 이름 바꾸기

열 이름을 바꾸려면 `CHANGE` 키워드를 씀.

```sql
ALTER TABLE employees
CHANGE COLUMN phone_number contact_number VARCHAR(20);
```

### 열 삭제하기

열을 지우려면 `DROP` 키워드를 씀.

```sql
ALTER TABLE employees
DROP COLUMN contact_number;
```

### 인덱스 만들고 지우기

인덱스를 쓰면 데이터를 빨리 찾을 수 있음. `CREATE INDEX`로 인덱스를 만들고, `DROP INDEX`로 인덱스를 지울 수 있음.

인덱스 만드는 SQL 문은 다음과 같음.

```sql
CREATE INDEX idx_last_name ON employees(last_name);
```

인덱스 지우는 SQL 문은 다음과 같음.

```sql
DROP INDEX idx_last_name ON employees;
```

### DROP TABLE과 TRUNCATE TABLE 차이 알기

- **DROP TABLE**: 테이블과 그 안의 모든 데이터를 완전히 지움. 테이블 자체가 사라져서 다시 쓰려면 새로 만들어야 함.

  ```sql
  DROP TABLE employees;
  ```

- **TRUNCATE TABLE**: 테이블 안의 모든 데이터만 지우고 테이블 구조는 그대로 둠. 데이터를 빨리 지우고 싶을 때 씀.

  ```sql
  TRUNCATE TABLE employees;
  ```

### 테이블 구조 바꿀 때 주의할 점

- 테이블 구조 바꾸기 전에 기존 데이터를 꼭 백업해 둘 것
- 바꾸는 동안 데이터가 틀리지 않는지 확인할 것
- 인덱스를 추가하면 데이터 넣는 속도가 느려질 수 있으니 꼭 필요할 때만 추가할 것

테이블 구조를 바꾸기 전에 다음 SQL 문으로 현재 테이블 구조를 확인해 볼 것.

```sql
DESCRIBE employees;
```

이 명령어로 `employees` 테이블의 모든 열과 그 속성을 볼 수 있음.
