# 캡슐화와 정보 은닉

## 접근 제어자

### 접근 제어자의 개념

접근 제어자는 클래스, 메서드, 변수 등의 접근 범위를 설정하는 키워드임. 이를 통해 외부 접근을 제어하고, 클래스 내부 데이터를 보호하며 캡슐화를 구현할 수 있음. 자바의 주요 접근 제어자는 `public`, `protected`, `default`, `private`임.

### 접근 제어자의 종류와 역할

1. **public**: 모든 클래스에서 접근 가능
2. **protected**: 같은 패키지 또는 상속받은 클래스에서 접근 가능
3. **default**: 같은 패키지에서만 접근 가능 (키워드 생략 시)
4. **private**: 같은 클래스 내에서만 접근 가능

### 접근 제어자의 사용 예제

#### public 접근 제어자

```java
public class Animal {
    public String name;

    public void makeSound() {
        System.out.println("동물 소리");
    }
}

public class Main {
    public static void main(String[] args) {
        var animal = new Animal();
        animal.name = "멍멍이";
        animal.makeSound(); // 동물 소리
    }
}
```

`Animal` 클래스의 `name`과 `makeSound`는 `public`으로 선언되어 모든 클래스에서 접근 가능함.

#### protected 접근 제어자

```java
public class Animal {
    protected String name;

    protected void makeSound() {
        System.out.println("동물 소리");
    }
}

public class Dog extends Animal {
    public void setName(String name) {
        this.name = name; // protected 필드 접근 가능
    }

    @Override
    protected void makeSound() {
        System.out.println("멍멍");
    }
}

public class Main {
    public static void main(String[] args) {
        var dog = new Dog();
        dog.setName("멍멍이");
        dog.makeSound(); // 멍멍
    }
}
```

`Animal` 클래스의 `name`과 `makeSound`는 `protected`로 선언되어 같은 패키지나 상속받은 클래스에서 접근 가능함.

#### default 접근 제어자

```java
class Animal {
    String name; // default 접근 제어자

    void makeSound() {
        System.out.println("동물 소리");
    }
}

public class Main {
    public static void main(String[] args) {
        var animal = new Animal();
        animal.name = "멍멍이";
        animal.makeSound(); // 동물 소리
    }
}
```

`Animal` 클래스의 `name`과 `makeSound`는 default 접근 제어자로 설정되어 같은 패키지 내에서만 접근 가능함.

#### private 접근 제어자

```java
public class Animal {
    private String name;

    private void makeSound() {
        System.out.println("동물 소리");
    }

    public void setName(String name) {
        this.name = name;
    }

    public void callMakeSound() {
        makeSound();
    }
}

public class Main {
    public static void main(String[] args) {
        var animal = new Animal();
        animal.setName("멍멍이");
        animal.callMakeSound(); // 동물 소리
    }
}
```

`Animal` 클래스의 `name`과 `makeSound`는 `private`으로 선언되어 같은 클래스 내에서만 접근 가능함. 외부에서는 public 메서드를 통해 간접적으로 접근함.

### 접근 제어자의 실제 사용 사례

#### 클래스 설계 시 데이터 보호

```java
public class BankAccount {
    private double balance;

    public void deposit(double amount) {
        if (amount > 0) {
            balance += amount;
        }
    }

    public void withdraw(double amount) {
        if (amount > 0 && balance >= amount) {
            balance -= amount;
        }
    }

    public double getBalance() {
        return balance;
    }
}

public class Main {
    public static void main(String[] args) {
        var account = new BankAccount();
        account.deposit(1000);
        account.withdraw(500);
        System.out.println("잔액: " + account.getBalance()); // 잔액: 500.0
    }
}
```

`BankAccount` 클래스는 `balance`를 `private`으로 선언하여 외부 접근을 차단하고, public 메서드로 안전하게 접근하도록 함.

#### 상속 구조에서의 접근 제어

```java
public class Vehicle {
    protected String brand;

    protected void honk() {
        System.out.println("빵빵!");
    }
}

public class Car extends Vehicle {
    public Car(String brand) {
        this.brand = brand;
    }

    @Override
    protected void honk() {
        System.out.println(brand + "가 빵빵!");
    }
}

public class Main {
    public static void main(String[] args) {
        var car = new Car("현대");
        car.honk(); // 현대가 빵빵!
    }
}
```

`Vehicle` 클래스의 `brand`와 `honk`는 `protected`로 선언되어 `Car` 클래스에서 접근하고 재정의할 수 있음.
