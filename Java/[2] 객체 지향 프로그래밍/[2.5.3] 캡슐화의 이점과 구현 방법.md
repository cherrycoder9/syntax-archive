# 캡슐화와 정보 은닉

## 캡슐화의 이점과 구현 방법

### 캡슐화의 개념

캡슐화는 객체 지향 프로그래밍의 핵심 원칙 중 하나로, 데이터와 메서드를 하나의 단위로 묶는 것을 의미함. 이를 통해 데이터 무결성을 유지하고, 외부로부터의 불필요한 접근을 차단할 수 있음. 클래스 내부의 세부 구현을 숨기고, 필요한 인터페이스만을 외부에 제공함.

### 캡슐화의 이점

1. **데이터 보호**: 클래스 내부 데이터에 직접 접근을 막아 무결성 유지
2. **유지보수성 향상**: 클래스 내부 구현 변경이 외부에 영향을 주지 않음
3. **코드 재사용성 증가**: 잘 정의된 인터페이스로 재사용 가능한 컴포넌트 생성
4. **결합도 감소**: 클래스 간 의존성을 줄여 코드의 유연성 향상

### 캡슐화 구현 방법

#### 접근 제어자를 사용한 캡슐화

```java
public class Employee {
    private String name;
    private int age;
    private double salary;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        if (age > 0) {
            this.age = age;
        }
    }

    public double getSalary() {
        return salary;
    }

    public void setSalary(double salary) {
        if (salary > 0) {
            this.salary = salary;
        }
    }
}

public class Main {
    public static void main(String[] args) {
        var emp = new Employee();
        emp.setName("홍길동");
        emp.setAge(30);
        emp.setSalary(50000.0);

        System.out.println("이름: " + emp.getName());
        System.out.println("나이: " + emp.getAge());
        System.out.println("급여: " + emp.getSalary());
    }
}
```

`Employee` 클래스는 필드를 `private`으로 선언하고, getter와 setter 메서드로 접근을 제어함.

#### 불변 객체 만들기

```java
public final class ImmutableEmployee {
    private final String name;
    private final int age;
    private final double salary;

    public ImmutableEmployee(String name, int age, double salary) {
        this.name = name;
        this.age = age;
        this.salary = salary;
    }

    public String getName() {
        return name;
    }

    public int getAge() {
        return age;
    }

    public double getSalary() {
        return salary;
    }
}

public class Main {
    public static void main(String[] args) {
        var emp = new ImmutableEmployee("홍길동", 30, 50000.0);
        System.out.println("이름: " + emp.getName());
        System.out.println("나이: " + emp.getAge());
        System.out.println("급여: " + emp.getSalary());
    }
}
```

`ImmutableEmployee` 클래스는 모든 필드를 `private`과 `final`로 선언하고 setter를 제공하지 않아 불변 객체로 구현됨.

### 캡슐화의 실제 사용 사례

#### 은행 계좌 클래스

```java
public class BankAccount {
    private double balance;

    public BankAccount(double initialBalance) {
        if (initialBalance > 0) {
            balance = initialBalance;
        }
    }

    public double getBalance() {
        return balance;
    }

    public void deposit(double amount) {
        if (amount > 0) {
            balance += amount;
        }
    }

    public void withdraw(double amount) {
        if (amount > 0 && balance >= amount) {
            balance -= amount;
        }
    }
}

public class Main {
    public static void main(String[] args) {
        var account = new BankAccount(1000.0);
        account.deposit(500.0);
        account.withdraw(200.0);
        System.out.println("잔액: " + account.getBalance());
    }
}
```

`BankAccount` 클래스는 `balance` 필드를 `private`으로 선언하고, `deposit`과 `withdraw` 메서드로 간접 접근을 제공함.

#### 학생 정보 관리 시스템

```java
public class Student {
    private String studentId;
    private String name;
    private int age;

    public Student(String studentId, String name, int age) {
        this.studentId = studentId;
        this.name = name;
        setAge(age);
    }

    public String getStudentId() {
        return studentId;
    }

    public String getName() {
        return name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        if (age > 0) {
            this.age = age;
        }
    }
}

public class Main {
    public static void main(String[] args) {
        var student = new Student("S001", "김철수", 20);
        System.out.println("학번: " + student.getStudentId());
        System.out.println("이름: " + student.getName());
        System.out.println("나이: " + student.getAge());

        student.setAge(25);
        System.out.println("수정된 나이: " + student.getAge());
    }
}
```

`Student` 클래스는 모든 필드를 `private`으로 선언하고, getter와 setter 메서드로 접근을 제어함. 나이 설정 시 유효성 검사를 수행함.
