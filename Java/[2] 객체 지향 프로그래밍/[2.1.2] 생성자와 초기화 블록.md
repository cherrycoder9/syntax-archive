# 객체 지향 프로그래밍

## 클래스와 객체

### 생성자와 초기화 블록

#### 생성자

생성자는 객체 생성 시 호출되는 특별한 메서드임. 주요 목적은 객체의 초기 상태를 설정하는 것임. 생성자의 이름은 반드시 클래스명과 동일해야 함.

```java
public class Smartphone {
    private String brand;
    private String model;
    private int storage;

    // 생성자
    public Smartphone(String brand, String model, int storage) {
        this.brand = brand;
        this.model = model;
        this.storage = storage;
        System.out.println(brand + " " + model + " 스마트폰 생성됨");
    }

    // Getter 메서드들
    public String getBrand() { return brand; }
    public String getModel() { return model; }
    public int getStorage() { return storage; }
}
```

생성자 사용 예시:

```java
Smartphone phone1 = new Smartphone("삼성", "갤럭시 S21", 256);
Smartphone phone2 = new Smartphone("애플", "아이폰 13", 128);

System.out.println(phone1.getBrand() + " " + phone1.getModel() + " (" + phone1.getStorage() + "GB)");
System.out.println(phone2.getBrand() + " " + phone2.getModel() + " (" + phone2.getStorage() + "GB)");
```

##### 기본 생성자

매개변수가 없는 생성자를 기본 생성자라고 함. 클래스에 생성자를 정의하지 않으면 컴파일러가 자동으로 기본 생성자를 추가함.

```java
public class Smartphone {
    private String brand;
    private String model;
    private int storage;

    // 기본 생성자
    public Smartphone() {
        this.brand = "알 수 없음";
        this.model = "알 수 없음";
        this.storage = 0;
        System.out.println("기본 스마트폰 생성됨");
    }

    // 매개변수가 있는 생성자
    public Smartphone(String brand, String model, int storage) {
        this.brand = brand;
        this.model = model;
        this.storage = storage;
        System.out.println(brand + " " + model + " 스마트폰 생성됨");
    }

    // Getter 메서드들 (생략)
}
```

#### 초기화 블록

초기화 블록은 객체 생성 시 공통적으로 실행되는 코드 블록임. 모든 생성자보다 먼저 실행됨.

```java
public class Smartphone {
    private String brand;
    private String model;
    private int storage;
    private static int totalPhones = 0;

    // 인스턴스 초기화 블록
    {
        System.out.println("새로운 스마트폰 객체 초기화 중...");
        totalPhones++;
    }

    // 생성자들 (생략)

    // Getter 메서드들 (생략)

    public static int getTotalPhones() {
        return totalPhones;
    }
}
```

##### 정적 초기화 블록

정적 초기화 블록은 클래스 로딩 시 한 번만 실행됨. 주로 정적 필드 초기화에 사용됨.

```java
public class Smartphone {
    private String brand;
    private String model;
    private int storage;
    private static int totalPhones = 0;
    private static String[] supportedBrands;

    // 정적 초기화 블록
    static {
        System.out.println("Smartphone 클래스 초기화 중...");
        supportedBrands = new String[]{"삼성", "애플", "LG", "구글"};
    }

    // 인스턴스 초기화 블록, 생성자들, Getter 메서드들 (생략)

    public static String[] getSupportedBrands() {
        return supportedBrands;
    }
}
```

#### 생성자와 초기화 블록의 실제 활용

스마트폰 재고 관리 시스템을 예로 들어 생성자와 초기화 블록의 활용을 보여줌:

```java
import java.util.ArrayList;
import java.util.List;

public class SmartphoneInventory {
    private List<Smartphone> inventory;
    private static int totalInventoryValue = 0;

    // 정적 초기화 블록
    static {
        System.out.println("스마트폰 재고 관리 시스템 초기화 중...");
    }

    // 인스턴스 초기화 블록
    {
        System.out.println("새로운 재고 목록 생성 중...");
        this.inventory = new ArrayList<>();
    }

    // 생성자
    public SmartphoneInventory() {
        System.out.println("스마트폰 재고 관리 시스템 준비 완료");
    }

    public void addSmartphone(Smartphone phone) {
        inventory.add(phone);
        totalInventoryValue += calculatePhoneValue(phone);
        System.out.println(phone.getBrand() + " " + phone.getModel() + " 재고에 추가됨");
    }

    private int calculatePhoneValue(Smartphone phone) {
        // 간단한 가치 계산 로직 (실제로는 더 복잡할 수 있음)
        return phone.getStorage() * 1000;
    }

    public static int getTotalInventoryValue() {
        return totalInventoryValue;
    }

    public void printInventory() {
        System.out.println("현재 재고 목록:");
        for (Smartphone phone : inventory) {
            System.out.println("- " + phone.getBrand() + " " + phone.getModel() + " (" + phone.getStorage() + "GB)");
        }
        System.out.println("총 재고 가치: " + totalInventoryValue + "원");
    }
}
```

사용 예시:

```java
public class Main {
    public static void main(String[] args) {
        SmartphoneInventory inventory = new SmartphoneInventory();

        Smartphone phone1 = new Smartphone("삼성", "갤럭시 S21", 256);
        Smartphone phone2 = new Smartphone("애플", "아이폰 13", 128);
        Smartphone phone3 = new Smartphone("구글", "픽셀 6", 128);

        inventory.addSmartphone(phone1);
        inventory.addSmartphone(phone2);
        inventory.addSmartphone(phone3);

        inventory.printInventory();

        System.out.println("지원되는 브랜드: " + String.join(", ", Smartphone.getSupportedBrands()));
        System.out.println("총 생성된 스마트폰 수: " + Smartphone.getTotalPhones());
    }
}
```
