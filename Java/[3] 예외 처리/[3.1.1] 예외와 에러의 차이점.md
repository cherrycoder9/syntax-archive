# 예외 처리

## 예외와 에러의 차이점

### 예외(Exception)의 특징

예외는 프로그램 실행 중 발생하는 예상 가능한 문제 상황을 객체로 표현한 것임. 주로 프로그램의 논리적 오류나 외부 요인으로 인한 문제를 나타냄. 예외는 크게 두 가지로 나뉨:

- 체크 예외: 컴파일 시점에 확인되며, 반드시 처리해야 함
- 언체크 예외: 런타임에 발생하며, 명시적인 처리가 강제되지 않음

체크 예외의 대표적인 예시로는 `IOException`, `SQLException` 등이 있음. 이들은 주로 외부 리소스와의 상호작용에서 발생할 수 있는 문제를 다룸.

언체크 예외의 경우 `NullPointerException`, `ArrayIndexOutOfBoundsException` 등이 해당됨. 이들은 주로 프로그래머의 실수나 예상치 못한 입력으로 인해 발생함.

### 에러(Error)의 특성

에러는 시스템 레벨의 심각한 문제를 나타내는 객체임. 주로 JVM이나 하드웨어 관련 이슈에서 발생하며, 프로그램에서 직접 처리하기 어려운 상황을 의미함.

대표적인 에러 유형:

- VirtualMachineError: JVM 관련 심각한 문제. 예: `OutOfMemoryError`, `StackOverflowError`
- LinkageError: 클래스 로딩 및 링크 과정의 문제. 예: `NoClassDefFoundError`

### 처리 방식의 차이

예외는 `try-catch` 블록을 통해 적절히 처리할 수 있음. 다음은 파일 입출력 시 발생할 수 있는 예외를 처리하는 예시임:

```java
try (FileInputStream file = new FileInputStream("data.txt")) {
    // 파일 읽기 작업
} catch (FileNotFoundException e) {
    System.out.println("파일을 찾을 수 없음: " + e.getMessage());
} catch (IOException e) {
    System.out.println("입출력 오류 발생: " + e.getMessage());
}
```

위 코드에서는 try-with-resources 문을 사용해 자원을 자동으로 해제함. 이는 Java 7 이상에서 사용 가능한 기능임.

반면 에러는 대부분 복구가 불가능하므로, 일반적으로 로그를 남기고 프로그램을 종료하는 방식으로 대응함.

```java
try {
    // 메모리를 많이 사용하는 작업
} catch (OutOfMemoryError e) {
    System.err.println("심각한 메모리 부족 발생: " + e.getMessage());
    System.exit(1);
}
```

### 실제 사용 사례

- 체크 예외: 데이터베이스 연결, 파일 작업 등에서 자주 발생함. 이런 작업은 실패 가능성이 있으므로 명시적인 처리가 필요함
- 언체크 예외: 배열 인덱스 범위 초과, null 객체 참조 등 프로그래밍 오류에서 주로 발생함
- 에러: JVM의 힙 메모리 부족, 스택 오버플로우 등 시스템 자원 관련 문제에서 발생함

예외와 에러를 구분해 적절히 대응하면 프로그램의 안정성과 신뢰성을 높일 수 있음. 예외는 적극적으로 처리하고, 에러는 발생 가능성을 최소화하는 방향으로 코드를 작성해야 함.
